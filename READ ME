READ ME

This is a summary of the task carried out by each of the scripts in Scripts:

MantaSensors.py: Main file communicating with V-Rep, in order to interact with a Manta vehicle in a sinusoidal circuit as generated by csvmap.py in scene SinusoidalCircuit.ttt.
For now, it has the following functions, which it executes for every 10000 loops of the main while loop:
	-Controls vehicle motion with function Drive from BasicDriving.py
	-Simulates compass measures by extracting the heading from V-Rep and adding sensor noise
	-Extract how much the vehicle has moved in the time step (u_t) directly by requesting the vehicle position from V-Rep. In the future to be done by the controller
	-Request from V-Rep all 4 sensor distances. 
	-Execute the particle filter in order to estimate vehicle position
	-Plot estimated and actual trajectories (still not working) 

csvmap.py: File responsible of generating both .csv files respresenting the map of the sinusoidad circuit necessary for the particle filter. One file, 3ColMap.csv corresponds to the data that the particle filter employs directly, where as the other file, CSVmap.csv is used to generate a heightfield in V-Rep. Note that to reduce the computational effort of the particle filter, 3ColMap.csv has to be generated with less resolution than what would be convenient for the V-Rep heightfield. Then, this script is executed first with high resolution, the heightfield is imported to V-Rep, and then it is executied with low resolution, for the execution of the particle filter.

BasicDriving.py: Script in charge of imposing vehicle steer position and motor velocity. Should be replaced by a controller in charge of deciding these two parameters based on the current posiition and the next location along the trajectory.

Particle_Filter.py: Script in charge of estimating the location of the Manta vehicle based on its sensor readings. Requires the introduction of a heading and of a reasonable value of u_t. The introduction of a reduced map through reduced_Map.py allows for its computational effort to be reduced greatly.

testFilter.py: Script in charge of testing the filter giving a known initial position in a static situation. This script does not communicate with V-Rep, only reads the map present in 3ColMap.csv.

utMap.py: In a lousy try to determine the variation of vehicle position for every time step based on its steer position and motor speeds, this script tries to map a table of values for u_t by making the vehicle move in known steer positions and velocities. However, its results do not match the actual vehicle movement in reality. Generates a numpy array in file u_t.npz and employs the heightfield defined by Flat.csv.

reduced_Map.py: This script extracts a snippet of the whole map defined by 3ColMap.csv, including only an area of interest around the vehicle. This area is set to be 1.5 the sensor length. This script is also in charge of propagating the vehicle's motion to this snippet, such that the region of interest moves along with the  estimated position of the vehicle.

